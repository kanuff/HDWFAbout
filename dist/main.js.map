{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/sentiment/languages/en/index.js","webpack:///./src/index.js","webpack:///./src/chart.js","webpack:///./src/chart_utils.js","webpack:///./src/query_field.js","webpack:///./src/news.js","webpack:///./config/keys.js","webpack:///./src/sentiment.js","webpack:///./node_modules/sentiment/lib/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/sentiment/lib/tokenize.js","webpack:///./node_modules/sentiment/lib/language-processor.js","webpack:///./node_modules/sentiment/languages/en/scoring-strategy.js","webpack:///./node_modules/sentiment/languages sync ^\\.\\/.*\\/index$"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","labels","require","scoringStrategy","document","addEventListener","props","main","getElementById","secondTitle","chart","Chart","insertBefore","dummyData","build","this","data","margin","top","right","bottom","left","cutoff","good","bad","width","height","svg","d3","select","attr","style","append","today","Date","startDate","setDate","getDate","endDate","dateRange","generateDateRange","xFormat","initialize","x","y","Math","floor","random","datum","keys","push","xdata","ydata","forEach","parseTime","timeParse","xscl","scaleTime","domain","extent","range","x_axis","axisBottom","scale","yscl","scaleLinear","max","min","y_axis","axisLeft","tickFormat","timeFormat","selectAll","tickSize","tickSizeOuter","remove","line","curve","curveBundle","beta","text","payload","scatterData","total","singleArticleInfo","lineData","mergeLineData","initialize_duration","initialRender","conditionalTitleColor","transition","delay","ease","easeExp","duration","conditionalDisplay","createDots","enter","on","window","open","url","conditionalColor","conditionalOpacity","easeElastic","handleArticleScroll","fillArticleInfo","title","highScore","_","articlesContainer","toLocaleDateString","month","day","bigDot","handleDotUX","easeCubic","exit","updateDots","source","description","image","addDay","sortDate","a","b","average","sqrt","abs","attr_value","greaterThan","opacity","speed","intialize_duration","easeLinear","dates","currentDate","date","formattedDate","getFullYear","getMonth","mergedData","assign","unkeyedData","outerDatum","values","flat","sort","scrollIntoView","behavior","block","form","createElement","queryInput","setAttribute","setTimeout","typingWord","appendChild","debouncedTyping","event","preventDefault","fn","timerId","options","str","length","cycle","setInterval","slice","clearInterval","removeEventListener","clearInput","fetchEverythingFor","then","response","query","articles","processData","render","args","clearTimeout","apiKey","news_api_key","fetchHeadlines","req","Request","console","log","fetch","json","addQuery","sentiment","Sentiment","processingData","article","content","author","urlToImage","contentSentiment","analyze","titleSentiment","comparative","relevance","round","publishedAt","split","score","sortDateDesc","averageDayScores","calculateTotals","count","processedData","averagedData","tokenize","languageProcessor","registerLanguage","languageCode","language","addLanguage","phrase","opts","callback","getLabels","extras","tokens","words","positive","negative","obj","tokenScore","applyScoringStrategy","result","process","nextTick","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","e","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","Array","arguments","apply","browser","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","input","toLowerCase","replace","emojis","enLanguage","languages","en","getLanguage","err","cursor","defaultScoringStrategy","negators","prevtoken","map","webpackContext","id","webpackContextResolve","code","resolve"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = {\n    labels: require('./labels.json'),\n    scoringStrategy: require('./scoring-strategy')\n};\n","import './styles/development.css';\nimport Chart from './chart';\nimport queryField from './query_field';\nimport './styles/main.css';\n\n \n\nif (process.env.NODE_ENV !== \"production\") {\n    console.log(\"Development Mode!\");\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const props = {}\n    const main = document.getElementById(\"main\");\n    const secondTitle = document.getElementById(\"second-title\")\n    \n    const chart = new Chart(props)\n    props.chart = chart\n\n    main.insertBefore(queryField(props), secondTitle);\n\n\n    const dummyData = chart.dummyData();\n    chart.build(dummyData);\n\n})\n","import {\n    conditionalColor,\n    conditionalDisplay,\n    conditionalOpacity,\n    conditionalTitleColor,\n    fillArticleInfo,\n    handleDotUX,\n    generateDateRange,\n    sortDate,\n    mergeLineData,\n    initialRender,\n    handleArticleScroll\n} from './chart_utils'\n\nexport default class Chart{\n    constructor(props){\n        this.data = props.data\n        this.margin = {\n            top: 30,\n            right: 20,\n            bottom: 50,\n            left: 20,\n        }\n        this.cutoff = 3\n        this.good = this.cutoff\n        this.bad = this.cutoff * -1\n        this.width = 810 - this.margin.left - this.margin.right;\n        this.height = 370 - this.margin.top - this.margin.bottom;\n        this.svg = d3.select('svg')\n            .attr('width', this.width + this.margin.left + this.margin.right)\n            .attr('height', this.height + this.margin.top + this.margin.bottom)\n            .style('background-color', 'transparent')\n            .append(\"g\")\n            .attr(\"transform\", `translate(${this.margin.left}, ${this.margin.top})`)\n        const today = new Date()\n        this.startDate = new Date(today.setDate(today.getDate() - 31))\n        this.endDate = new Date();\n        this.dateRange = generateDateRange(this.startDate, this.endDate)\n        this.xFormat = \"%b-%d\";\n        this.initialize = true;\n    }\n\n    dummyData(){\n        const dummyData = []\n        const dataLength = 31;\n        const mag = 25;\n        for (let x = 0; x < dataLength; x++) {\n            const y = Math.floor(Math.random() * 2 * mag) - mag;\n            const datum = {x:Object.keys(this.dateRange[x])[0], y};\n            dummyData.push(datum);\n        }\n        return dummyData\n    }\n\n    build(data){\n        const { svg, height, width, good, bad, xFormat, margin } = this\n        const xdata = []\n        const ydata = []\n        data.forEach(datum => {\n            xdata.push(datum.x)\n            ydata.push(datum.y)\n        })\n        const parseTime = d3.timeParse(\"%Y-%m-%d\")\n        const xscl = d3.scaleTime()\n            .domain(d3.extent(data, d => { return parseTime(d.x) }))\n            .range([0, width]);\n\n        const x_axis = d3.axisBottom()\n            .scale(xscl)\n\n        const yscl = d3.scaleLinear()\n            .domain([d3.max(ydata), d3.min(ydata)])\n            .range([0, height]);\n\n        const y_axis = d3.axisLeft()\n            .scale(yscl)\n\n        svg.append(\"g\")\n            .attr(\"transform\", `translate(0,${(yscl(0))})`)\n            .attr(\"class\", `xaxis`)\n            .call(x_axis)\n\n            \n\n        // svg.select(\".xaxis > path\")\n        //     .style(\"opacity\", 0);\n\n        // svg.selectAll(\".xaxis > .tick > line\")\n        //     .style(\"opacity\", 0);\n\n\n        svg.select(\".xaxis\")\n            .attr(\"transform\", `translate(0,${yscl(0)})`)\n            .call(x_axis.tickFormat(d3.timeFormat(xFormat)))\n            .selectAll(\"text\")\n            .attr(\"y\", 0)\n            .attr(\"x\", 9)\n            .attr(\"dy\", \".35em\")\n            .style(\"text-anchor\", \"start\")\n            .style(\"opacity\", 0)\n\n\n        svg.append(\"g\")\n            .attr(\"class\", `yaxis`)\n            .call(y_axis.tickSize(0).tickSizeOuter(5))\n            .selectAll(\"text\").remove()\n\n        // create line generator\n        const line = d3.line()\n            .x(d => { return xscl(parseTime(d.x)); })\n            .y(d => { return yscl(d.y); })\n            .curve(d3.curveBundle.beta(0.85));\n\n        //good-label\n        svg.append(\"text\")\n            .attr(\"y\", yscl(good) - 5 )\n            .attr(\"x\", 15)\n            .attr(\"class\", \"good-label\")\n            .attr(\"text-anchor\", \"right\")\n            .style(\"fill\", \"transparent\")\n            // .style(\"fill\", \"rgba(0, 128, 0, 0.6)\")\n            .text(\"+ sentiment\")\n\n        //bad-label\n        svg.append(\"text\")\n            .attr(\"y\", yscl(bad) + 15 )\n            .attr(\"x\", 15)\n            .attr(\"class\", \"bad-label\")\n            .attr(\"text-anchor\", \"right\")\n            .style(\"fill\", \"transparent\")\n            // .style(\"fill\", \"rgba(200, 0, 0, 0.6)\")\n            .text(\"- sentiment\")\n\n        //build good-line\n        svg.append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", yscl(good))\n            .attr(\"x2\", width)\n            .attr(\"y2\", yscl(good))\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", \"transparent\")\n            .attr(\"stroke-width\", \"1px\")\n            .attr(\"class\", \"good-line\")\n            .style(\"stroke-dasharray\", (\"3, 3\"));\n\n        // build bad-line\n        svg.append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", yscl(bad))\n            .attr(\"x2\", width)\n            .attr(\"y2\", yscl(bad))\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", \"transparent\")\n            .attr(\"stroke-width\", \"1px\")\n            .attr(\"class\", \"bad-line\")\n            .style(\"stroke-dasharray\", (\"3, 3\"))\n\n        // draw the line\n        svg.append('path')\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", \"transparent\")\n            .attr(\"stroke-width\", \"3px\")\n            .attr(\"stroke-linecap\", \"round\")\n            .data([data])\n            .attr(\"class\", \"line\")\n            .attr(\"d\", line);\n\n\n        d3.select(\"#chart\")\n            .style(\"box-shadow\", \"1px 1px 5px 0px black\")\n        d3.select(\"#articles-list\")\n            .style(\"box-shadow\", \"1px 1px 5px 0px black\")\n        d3.select(\".article-info\")\n            .style(\"box-shadow\", \"1px 1px 5px 0px black\")\n\n        // d3.select(\"#chart\")\n        //     .style(\"box-shadow\", \"0px 0px 0px 0px black\")\n\n        // d3.select(\"#articles-list\")\n        //     .style(\"box-shadow\", \"0px 0px 0px 0px black\")\n        // d3.select(\".article-info\")\n        //     .style(\"box-shadow\", \"0px 0px 0px 0px black\")\n    }\n\n    render(payload){\n        const { scatterData, total } = payload\n        const { svg, height, width, good, bad, xFormat } = this\n        const ydata = []\n        const xdata = []\n        const singleArticleInfo = d3.select(\".article-info-container\")\n        const lineData = mergeLineData(this.dateRange, payload.lineData)\n        let initialize_duration\n        if (this.initialize){\n            initialize_duration = 1500\n        } else {\n            initialize_duration = 0\n        }\n        this.initialize = initialRender(svg, initialize_duration)\n        conditionalTitleColor(total)\n        scatterData.forEach(datum => {\n            ydata.push(datum.y)\n            xdata.push(datum.x)\n        })\n\n        const parseTime = d3.timeParse(\"%Y-%m-%d\")\n       \n        const xscl = d3.scaleTime()\n            .domain(d3.extent(lineData, d => { return parseTime(d.x) }))\n            .range([0, width]);\n\n        const x_axis = d3.axisBottom()\n            .scale(xscl)\n            \n        const yscl = d3.scaleLinear()\n            .domain([d3.max(ydata), d3.min(ydata)])\n            .range([0, height]);\n\n        const y_axis = d3.axisLeft()\n            .scale(yscl)\n\n        const labels = d3.selectAll(\".label\")\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .style(\"color\", \"rgba(255,255,255, 0.7)\");\n        const readMore = d3.select(\".read-more\")\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .style(\"color\", \"rgba(255,255,255, 0.7)\");\n\n        svg.select(\".xaxis\")\n                .transition()\n            .delay(initialize_duration)\n                .ease(d3.easeExp)\n                .duration(1700)\n            .attr(\"transform\", `translate(0,${yscl(0)})`)\n            .call(x_axis.tickFormat(d3.timeFormat(xFormat)))\n                .selectAll(\"text\")\n                .attr(\"y\", 0)\n                .attr(\"x\", 9)\n                .attr(\"dy\", \".35em\")\n                .attr(\"transform\", \"rotate(90)\")\n                .style(\"text-anchor\", \"start\")\n                .style(\"fill\", \"white\")\n                .style(\"opacity\", 1)\n\n        svg.select(\".good-label\")\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .attr(\"y\", yscl(good) - 5)\n            .attr(\"x\", 15)\n            .attr(\"display\", () => conditionalDisplay(yscl(good), 0, false))\n            .style(\"fill\", \"rgb(32, 196, 168)\")\n\n\n        svg.select(\".bad-label\")\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .attr(\"y\", yscl(bad) + 15)\n            .attr(\"x\", 15)\n            .attr(\"display\", () => conditionalDisplay(yscl(bad), height, true))\n            .style(\"fill\", \"rgba(200, 0, 0, 0.6)\")\n\n\n        svg.select(\".yaxis\")\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .call(y_axis.tickSize(0).tickSizeOuter(5))\n            .selectAll(\"text\")\n            .style(\"fill\", \"white\");\n        svg.select(\".yaxis\")\n            .selectAll(\"text\").remove()\n\n\n\n        const line = d3.line()\n            .x(d => { return xscl(parseTime(d.x)); })\n            .y(d => { return yscl(d.y); })\n            .curve(d3.curveBundle.beta(0.85));\n\n        const path = svg.selectAll('.line');\n        path\n            .data([lineData])\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .attr(\"class\", \"line\")\n            .style(\"stroke\", \"rgba(0, 0, 139)\")\n            .attr(\"d\", line)\n\n        svg.select(\".good-line\")\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .attr(\"x1\", 0)\n            .attr(\"y1\", yscl(good))\n            .attr(\"x2\", width)\n            .attr(\"y2\", yscl(good))\n            .attr(\"display\", () => conditionalDisplay(yscl(good), 0, false))\n            .style(\"stroke\", \"rgb(32, 196, 168)\")\n            .style(\"stroke-width\", \"2px\")\n// rgb(32, 196, 168)\n\n        svg.select(\".bad-line\")\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .attr(\"x1\", 0)\n            .attr(\"y1\", yscl(bad) )\n            .attr(\"x2\", width)\n            .attr(\"y2\", yscl(bad))\n            .attr(\"display\", () => conditionalDisplay(yscl(bad), height, true))\n            .style(\"stroke\", \"rgba(200, 0, 0, 0.6)\")\n            .style(\"stroke-width\", \"2px\")\n            \n        const createDots = svg.selectAll(\".dot\")\n            .data(scatterData)\n            .enter().append(\"circle\")\n            .attr(\"class\", \"dot\")\n            \n        createDots\n            .on(\"click\", d => {\n                window.open(d.url, \"_blank\")\n            })\n            .on(\"mouseover\", function(d,i) {\n                d3.selectAll(\".dot\")\n                    .style(\"fill\", d => conditionalColor(d, good, bad))\n                    .style(\"opacity\", d => conditionalOpacity(d, good, bad))\n                const dot = d3.select(this)\n                    .style(\"opacity\", 1)\n                    .style(\"fill\", \"darkblue\");\n\n                dot\n                    .transition()\n                    .ease(d3.easeElastic)\n                    .duration(500)\n                    .attr(\"r\", 10)\n\n                d3.selectAll(\".article-list-item\")\n                    .style(\"background\", d => conditionalColor(d, good, bad, 0.3));\n                handleArticleScroll(i)\n\n                fillArticleInfo(singleArticleInfo, d)\n            })\n            .on(\"mouseout\", function(d){\n                d3.select(this)\n                    .transition()\n                    .ease(d3.easeElastic)\n                    .duration(500)\n                    .attr(\"r\", 8)\n            })\n\n        createDots\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .attr(\"cx\", d => { return xscl(parseTime(d.x)) })\n            .attr(\"cy\", d => { return yscl(d.y) })\n            .attr(\"r\", d => {\n                if (d.title === total.highScore.title) {\n                    return 1\n                }\n                return 8\n            })\n            .attr(\"id\", (_,i) => {return \"dot_\" + i})\n            .style(\"opacity\", d => conditionalOpacity(d, good, bad))\n            .style(\"fill\", d => conditionalColor(d, good, bad));\n\n        const articlesContainer = d3.select(\"#articles-list\")\n                                    .selectAll(\"li\")\n                                    .data(scatterData)\n        articlesContainer\n            .enter().append(\"li\")\n            .attr(\"class\", \"article-list-item\")\n            .attr(\"id\", (_,i) => {return \"article_\" + i})\n            .style(\"background\", d => conditionalColor(d, good, bad, 0.3))\n            .text( function(d){\n                const date = new Date(d.x)\n                const options = { month: 'short', day: 'numeric' }\n                return `${date.toLocaleDateString(\"en-US\", options)}: ${d.title}`\n            })\n            .on(\"click\", function(d,i){\n                d3.selectAll(\".dot\")\n                    .style(\"fill\", d => conditionalColor(d, good, bad))\n                    .style(\"opacity\", d => conditionalOpacity(d, good, bad));\n                d3.select(`#dot_${i}`)\n                    .attr(\"r\", function (d, i) {\n                        bigDot = d3.select(this)\n                        handleDotUX(d, bigDot, singleArticleInfo, 0.2);\n                        return 20\n                    });\n                handleArticleScroll(i)\n            })\n            .on(\"mouseover\", function(d,i){\n                d3.selectAll(\".article-list-item\")\n                    .style(\"background\", d => conditionalColor(d, good, bad, 0.3));\n                d3.select(this)\n                    .style(\"background\", \"rgba(0, 0, 139, 0.5)\");\n\n                d3.selectAll(\".dot\")\n                    .style(\"fill\", d => conditionalColor(d, good, bad))\n                    .style(\"opacity\", d => conditionalOpacity(d, good, bad));\n                d3.select(`#dot_${i}`)\n                    .style(\"opacity\", 1)\n                    .style(\"fill\", \"darkblue\");                \n            })\n\n        d3.selectAll(\".article-list-item\")\n            .transition(\"appear-articles\")\n            .ease(d3.easeCubic)\n            .duration(1500)\n            .style(\"opacity\", 1)\n\n        articlesContainer\n            .style(\"background\", d => conditionalColor(d, good, bad, 0.3))\n            .text(function (d) {\n                const date = new Date(d.x)\n                const options = { month: 'short', day: 'numeric' }\n                return `${date.toLocaleDateString(\"en-US\", options)}: ${d.title}`\n            })\n\n        articlesContainer\n            .exit().remove()\n\n        const updateDots = svg.selectAll(\".dot\")\n            .data(scatterData)\n\n        let bigDot;\n        updateDots\n            .transition()\n            .delay(initialize_duration)\n            .ease(d3.easeExp)\n            .duration(1700)\n            .attr(\"class\", \"dot\")\n            .attr(\"cx\", d => { return xscl(parseTime(d.x)) })\n            .attr(\"cy\", d => { return yscl(d.y) })\n            .attr(\"r\", function (d, i){\n                let r;\n                if (d.title === total.highScore.title) {\n                    bigDot = d3.select(this)\n                    handleDotUX(d, bigDot, singleArticleInfo, 1, initialize_duration);\n                    handleArticleScroll(i)\n                    r = 20\n                } else {\n                    r = 8\n                }\n                return r\n            })\n            .style(\"opacity\", d => conditionalOpacity(d, good, bad) )\n            .style(\"fill\", d => conditionalColor(d, good, bad));\n\n        svg.selectAll(\".dot\")\n            .data(scatterData)\n            .exit().remove();\n    }\n}","const conditionalTitleColor = (total) => {\n    d3.select(\".chart-title\")\n        .data([total])\n        .transition()\n        .ease(d3.easeExp)\n        .duration(2000)\n        .style(\"color\", d => {\n            if (d.average > 0.13) {\n                return `rgba(${32 * Math.sqrt(d.average)}, ${196 * Math.sqrt(d.average)}, ${168 * Math.sqrt(d.average)}, 0.97)`\n            } else if (d.average < -0.13) {\n                return `rgba(${128 * Math.sqrt(Math.abs(d.average))}, ${40 * Math.sqrt(Math.abs(d.average))}, ${40 * Math.sqrt(Math.abs(d.average))}, 0.97)`\n            } else {\n                return `rgba(255,255,255,0.8)`\n            }\n        })\n    d3.select(\"#second-title\")\n        .data([total])\n        .transition()\n        .ease(d3.easeExp)\n        .duration(2000)\n        .style(\"color\", d => {\n            if (d.average > 0.13) {\n                return `rgba(${32 * Math.sqrt(d.average)}, ${196 * Math.sqrt(d.average)}, ${168 * Math.sqrt(d.average)}, 0.97)`\n            } else if (d.average < -0.13) {\n                return `rgba(${128 * Math.sqrt(Math.abs(d.average))}, ${40 * Math.sqrt(Math.abs(d.average))}, ${40 * Math.sqrt(Math.abs(d.average))}, 0.97)`\n            } else {\n                return `rgba(255,255,255,0.8)`\n            }\n        })\n}\n\nconst conditionalDisplay = (attr_value, cutoff, greaterThan = true) => {\n    switch (greaterThan) {\n        case true:\n            if (attr_value > cutoff) {\n                return \"none\"\n            } else {\n                return \"inherit\"\n            }\n        case false:\n            if (attr_value < cutoff) {\n                return \"none\"\n            } else {\n                return \"inherit\"\n            }\n        default:\n            return \"inherit\"\n    }\n}\n\nconst conditionalOpacity = (d, good, bad) => {\n    if (d.y >= good) {\n        return \"0.8\"\n    } else if (d.y <= bad) {\n        return \"0.6\"\n    } else {\n        return \"0.3\"\n    }\n}\n\nconst conditionalColor = (d, good, bad, opacity=1) => {\n    if (d.y >= good) {\n        return `rgba(32,196,168, ${opacity}`\n    } else if (d.y <= bad) {\n        return `rgba(255,0,0, ${opacity}`\n    } else {\n        return `rgba(255,255,255, ${opacity}`\n    }\n}\n\nconst fillArticleInfo = (singleArticleInfo, d) => {\n    singleArticleInfo.select(\".article-title\")\n        .text(\n            `${d.title}`\n    ).transition()\n        .ease(d3.easeExp)\n        .duration(1700)\n        .style(\"color\", \"rgba(255,255,255, 0.5)\");\n    singleArticleInfo.select(\".article-author\")\n        .text(\n            `${d.source}`\n    ).transition()\n        .ease(d3.easeExp)\n        .duration(1700)\n        .style(\"color\", \"rgba(255,255,255, 0.5)\");\n    // singleArticleInfo.select(\".article-sentiment\")\n    //     .text(\n    //         `${d.y}`\n    //     );\n    // singleArticleInfo.select(\".article-relevance\")\n    //     .text(\n    //         `${d.relevance}`\n    //     );\n    singleArticleInfo.select(\".article-description\")\n        .text(\n            `${d.description}`\n        )\n        .transition()\n        .ease(d3.easeExp)\n        .duration(1700)\n        .style(\"color\", \"rgba(255,255,255, 0.5)\")\n\n    singleArticleInfo.select(\".article-image\")\n        .attr(\"src\", `${d.image}`)\n    singleArticleInfo.select(\".read-more\")\n        .attr(\"href\", `${d.url}`)\n}\n\nconst handleDotUX = (d, bigDot, singleArticleInfo, speed = 1, intialize_duration = 0) => {\n    const delay = 2000 + intialize_duration\n    if (speed >= 1){\n        // setTimeout(() => {\n            bigDot\n                .transition()\n                .delay(delay)\n                .ease(d3.easeElastic)\n                .duration(2500)\n                .attr(\"r\", 8)\n                .style(\"fill\", \"darkblue\")\n                .style(\"opacity\", 1);\n            if(speed >= 1){\n                // setTimeout(() => {\n                    singleArticleInfo\n                    .transition()\n                    .delay(delay + 500)\n                    .duration(800)\n                    .style(\"background-color\", \"rgba(0, 0, 139, 0.5)\");\n\n                    fillArticleInfo(singleArticleInfo, d);\n\n                    singleArticleInfo\n                        .transition()\n                        .delay(delay + 1350)\n                        .duration(800)\n                        .style(\"background-color\", \"transparent\")\n                // }, 800*speed)\n            }\n        // }, delay*speed)\n    } else {\n        bigDot\n            .style(\"fill\", \"darkblue\")\n            .style(\"opacity\", 1);\n        bigDot\n            .transition()\n            .ease(d3.easeLinear)\n            .duration(300)\n            .attr(\"r\", 8)\n        fillArticleInfo(singleArticleInfo, d);\n    }\n}\n\nDate.prototype.addDay = function () {\n    this.setDate(this.getDate() + 1)\n}\n\nconst generateDateRange = (startDate, endDate) => {\n    const dates = []\n    let currentDate = startDate\n    while (currentDate < endDate) {\n        const date = new Date(currentDate)\n        const formattedDate = `${date.getFullYear()}` + \"-\" + `0${date.getMonth() + 1}` + \"-\" + `${date.getDate()}`\n        dates.push({ [formattedDate]: { x: formattedDate, y: null } })\n        currentDate.addDay()\n    }\n    return dates\n}\n\nconst sortDate = (a, b) => {\n    const date1 = new Date(a.x)\n    const date2 = new Date(b.x)\n    if (date1 >= date2) {\n        return 1\n    } else {\n        return -1\n    }\n}\n\nconst mergeLineData = (dateRange, lineData) => {\n    const mergedData = Object.assign([], dateRange, lineData)\n    const unkeyedData = []\n    mergedData.forEach(outerDatum => {\n        unkeyedData.push(Object.values(outerDatum))\n    })\n    return unkeyedData.flat().sort(sortDate)\n}\n\n\n\nconst initialRender = (svg, intialize_duration, total) => {\n    // d3.select(\"#chart\")\n    //     .transition()\n    //     .ease(d3.easeCubic)\n    //     .duration(intialize_duration)\n    //     .style(\"box-shadow\", \"1px 1px 5px 0px black\")\n    // d3.select(\"#articles-list\")\n    //     .transition()\n    //     .ease(d3.easeCubic)\n    //     .duration(intialize_duration)\n    //     .style(\"box-shadow\", \"1px 1px 5px 0px black\")\n    // d3.select(\".article-info\")\n    //     .transition()\n    //     .ease(d3.easeCubic)\n    //     .duration(intialize_duration)\n    //     .style(\"box-shadow\", \"1px 1px 5px 0px black\")\n\n    // svg.select(\".xaxis > path\")\n    //     .transition(\"appear\")\n    //     .ease(d3.easeCubic)\n    //     .duration(intialize_duration)\n    //     .style(\"opacity\", 1)\n\n    // svg.selectAll(\".xaxis > .tick > line\")\n    //     .transition(\"appear\")\n    //     .ease(d3.easeCubic)\n    //     .duration(intialize_duration)\n    //     .style(\"opacity\", 1)\n    \n    // svg.select(\".yaxis\")\n    //     .transition(\"appear\")\n    //     .ease(d3.easeCubic)\n    //     .duration(intialize_duration)\n    //     .style(\"opacity\", 1)\n\n    d3.select(\"#main\")\n        .transition(\"appear\")\n        .ease(d3.easeCubic)\n        .duration(intialize_duration*0.8)\n        .style(\"top\", \"0px\")\n\n    d3.select(\".article-image\")\n        .transition(\"appear\")\n        .delay(800)\n        .ease(d3.easeCubic)\n        .duration(intialize_duration + 300)\n        .style(\"opacity\", 1)\n    \n    d3.select(\".info-container\")\n        .transition(\"appear\")\n        .delay(800)\n        .ease(d3.easeCubic)\n        .duration(intialize_duration+300)\n        .style(\"opacity\", 1)\n\n    return false\n\n\n}\n\nconst handleArticleScroll = i => {\n    document.getElementById(`article_${i}`).scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\"\n    })\n    d3.select(`#article_${i}`)\n        .style(\"background\", \"rgba(0, 0, 139, 0.5)\")\n    //     .style(\"transform\", \"rotateX(0deg)\");\n\n    // if ( i > 3 ){\n    //     d3.select(`#article_${i-1}`)\n    //         .style(\"opacity\", \"0.4\")\n    //         .style(\"transform\", \"rotateX(10deg)\");\n    //     d3.select(`#article_${i-2}`)\n    //         .style(\"opacity\", \"0.3\")\n    //         .style(\"transform\", \"rotateX(15deg)\");\n    //     d3.select(`#article_${i+1}`)\n    //         .style(\"opacity\", \"0.4\")\n    //         .style(\"transform\", \"rotateX(-10deg)\");\n    //     d3.select(`#article_${i+2}`)\n    //         .style(\"opacity\", \"0.3\")\n    //         .style(\"transform\", \"rotateX(-15deg)\");\n    // }\n\n}\n\nexport {\n    conditionalTitleColor,\n    conditionalDisplay,\n    conditionalOpacity,\n    conditionalColor,\n    fillArticleInfo,\n    handleDotUX,\n    generateDateRange,\n    sortDate,\n    mergeLineData,\n    initialRender,\n    handleArticleScroll\n}","import { fetchEverythingFor } from './news'\nimport { processData } from './sentiment';\n\n\nexport default (props) => {\n    const form = document.createElement(\"form\");\n    \n    const queryInput = document.createElement(\"input\");\n    queryInput.setAttribute(\"type\", \"text\");\n    queryInput.setAttribute(\"class\", \"query-field\");\n    queryInput.setAttribute(\"z-index\", \"100\");\n\n\n    setTimeout( () =>{\n        typingWord(queryInput);\n    }, 1000)\n    \n    form.appendChild(queryInput)\n    form.addEventListener(\"input\", () => debouncedTyping(event, props, queryInput))\n    // form.addEventListener(\"submit\", () => { handleTyping(event, props, queryInput)})\n    form.addEventListener(\"submit\", () => { event.preventDefault()})\n                            \n    return (\n        form\n    )\n}\n\nconst typingWord = (queryInput) => {\n    const options = [\n        \"Hong Kong\",\n        \"bees\",\n        \"bears\",\n        \"beets\",\n        \"Congress\",\n        \"paper sales\",\n        \"cheese\",\n        \"the news\",\n        \"penguins\",\n        \"the senate\",\n        \"the democratic debate\",\n        \"the 2020 election\",\n        \"SpaceX\",\n        \"artificial intelligence\",\n        \"healthcare\",\n        \"virtual reality\",\n        \"dogs\"\n    ]\n    const str = options[Math.floor(Math.random() * options.length)]\n    let i = 0;\n\n    const cycle = setInterval( function(){\n        const rand = Math.random()\n        if (rand > 0.3) {\n            i++\n            queryInput.setAttribute(\"placeholder\", str.slice(0, i))\n        }\n        if (i >= str.length){\n            clearInterval(cycle)\n            queryInput.removeEventListener(\"focus\", clearInput(queryInput, cycle))\n            setTimeout(()=>{\n                queryInput.setAttribute(\"placeholder\", \"\")\n                typingWord(queryInput)\n            }, 1500)\n            \n        }\n    }, 200)\n    queryInput.addEventListener(\"focus\", clearInput(queryInput, cycle))\n}\n\nconst clearInput = (queryInput, cycle) => () => {\n    clearInterval(cycle)\n    queryInput.setAttribute(\"placeholder\", \"\")\n}\n\nconst handleTyping = (event,props, queryInput) => {\n    event.preventDefault();\n    const chart = props.chart\n    const value = queryInput.value;\n\n    fetchEverythingFor(value)\n        .then(response => {\n            const payload = {}\n            payload.query = value\n            payload.articles = response.articles\n            return payload\n        })\n        .then(payload => processData(payload)) \n        .then((payload) => {\n            chart.render(payload)\n        })\n}\n\n\n// Use for testing functionality, sourced from: https://codeburst.io/throttling-and-debouncing-in-javascript-646d076d0a44\nconst debounce = (delay, fn) => {\n    let timerId;\n    return function (...args) {\n        if (timerId) {\n            clearTimeout(timerId);\n        }\n        timerId = setTimeout(() => {\n            fn(...args);\n            timerId = null;\n        }, delay);\n    }\n}\n\nconst debouncedTyping = debounce(700, handleTyping);\n\n","import { news_api_key } from '../config/keys';\n\nconst headlines = 'https://newsapi.org/v2/top-headlines?';\nconst everything = \"https://newsapi.org/v2/everything?\";\nconst addCountry = country => (`country=${country}&`);\nconst addSource = source => (`sources=${source}&`);\nconst addQuery = query => (`q=${query}&`); //searches for query in both title and body\nconst addFrom = start => (`from=${start}&`);\nconst sortBy = option => (`sortBy=${option}&`);\nconst addTo = end => (`to=${end}&`);\nconst addLanguage = ln => (`language=${ln}&`);\nconst addPagesize = int => (`pageSize=${int}&`);\nconst page = int => (`page=${int}&`);\n\nconst apiKey = `apiKey=${news_api_key}`\n\nexport const fetchHeadlines = () => {\n    const url = headlines + addCountry('us') + apiKey;\n    const req = new Request(url);\n    console.log(\"Requesting top 20 headlines!\")\n    return fetch(req)\n            .then(response => console.log(response.json()))    \n};\n\nexport const fetchEverythingFor = (query) => {\n    const url = everything + addQuery(query) + addLanguage('en') + addPagesize(100) + sortBy('relevancy') + apiKey;\n    const req = new Request(url);\n    console.log(`Requesting top 20 articles about ${query}!`)\n    return fetch(req)\n        .then(response => response.json())\n}\n\n\n","export const news_api_key = \"d3a931891c11479eaebaa8adb32af246\"","import Sentiment from 'sentiment'\n\n\nexport const processData = ({articles, value}) => {\n    const payload = {}\n    const sentiment = new Sentiment();\n    const processingData = [];\n    const ratio = 0.6\n\n    articles.forEach(article => {\n        const datum = {}\n        datum.content = article.content || \"\"\n        datum.title = article.title || \"Unnamed\"\n        datum.author = article.author || datum.title\n        datum.source = article.source.name\n        datum.url = article.url\n        datum.image = article.urlToImage\n        datum.description = article.description || \"Unavailable\";\n        \n        const contentSentiment = sentiment.analyze(datum.content)\n        const titleSentiment = sentiment.analyze(datum.title)\n        \n        const comparative = contentSentiment.comparative < 0.08 ? Math.abs(contentSentiment.comparative)/0.75 : contentSentiment.comparative //THIS IS ONLY A PLACEHOLDER, update to more meaningfully accurate metric after basics\n        datum.relevance = Math.round(comparative * 1000)/1000\n        datum.x = article.publishedAt.split(\"T\")[0]\n        const score = (datum.relevance/0.25) * (Math.round(((contentSentiment.score * ratio) + (titleSentiment.score * (1-ratio))) * 1000) /1000);\n        datum.y = Math.round(score * 1000)/1000\n        processingData.push(datum)\n    })\n    payload.scatterData = processingData.sort(sortDateDesc);\n    payload.lineData = averageDayScores(processingData);\n    payload.total = calculateTotals(processingData);\n\n    return payload\n}\n\nconst calculateTotals = data => {\n    const total = {}\n    total.highScore = data[0];\n    data.forEach(datum => {\n        total.score = total.score ? total.score + datum.y : datum.y\n        total.count = total.count ? total.count + 1 : 1\n        total.highScore = Math.abs(datum.y) > Math.abs(total.highScore.y) ? datum : total.highScore\n    })\n    total.average = total.score/total.count;\n    return total\n}\n\nconst averageDayScores = data => {\n    const processedData = {}\n    const count = {}\n    data.forEach(datum => {\n        processedData[datum.x] = processedData[datum.x] ? processedData[datum.x] + datum.y : datum.y;\n        count[datum.x] = count[datum.x] ? count[datum.x] + 1 : 1\n    })\n\n    const averagedData = []\n    Object.keys(processedData).forEach(date => {\n        averagedData.push({[date]: {x: date, y: Math.round((processedData[date] / count[date]) * 1000) / 1000}});\n    })\n    \n    const sortedAveragedData = averagedData.sort(sortDate)\n    return sortedAveragedData\n}\n\nconst sortDate = (a, b) => {\n    const date1 = new Date(a.x)\n    const date2 = new Date(b.x)\n    if (date1 >= date2){ \n        return 1\n    } else {\n        return -1\n    }\n};\n\nconst sortDateDesc = (b, a) => {\n    const date1 = new Date(a.x)\n    const date2 = new Date(b.x)\n    if (date1 >= date2){ \n        return 1\n    } else {\n        return -1\n    }\n}\n\n","var tokenize = require('./tokenize');\nvar languageProcessor = require('./language-processor');\n\n/**\n * Constructor\n * @param {Object} options - Instance options\n */\nvar Sentiment = function (options) {\n    this.options = options;\n};\n\n/**\n * Registers the specified language\n *\n * @param {String} languageCode\n *     - Two-digit code for the language to register\n * @param {Object} language\n *     - The language module to register\n */\nSentiment.prototype.registerLanguage = function (languageCode, language) {\n    languageProcessor.addLanguage(languageCode, language);\n};\n\n/**\n * Performs sentiment analysis on the provided input 'phrase'.\n *\n * @param {String} phrase\n *     - Input phrase\n * @param {Object} opts\n *     - Options\n * @param {Object} opts.language\n *     - Input language code (2 digit code), defaults to 'en'\n * @param {Object} opts.extras\n *     - Optional sentiment additions to AFINN (hash k/v pairs)\n * @param {function} callback\n *     - Optional callback\n * @return {Object}\n */\nSentiment.prototype.analyze = function (phrase, opts, callback) {\n    // Parse arguments\n    if (typeof phrase === 'undefined') phrase = '';\n    if (typeof opts === 'function') {\n        callback = opts;\n        opts = {};\n    }\n    opts = opts || {};\n\n    var languageCode = opts.language || 'en';\n    var labels = languageProcessor.getLabels(languageCode);\n\n    // Merge extra labels\n    if (typeof opts.extras === 'object') {\n        labels = Object.assign(labels, opts.extras);\n    }\n\n    // Storage objects\n    var tokens      = tokenize(phrase),\n        score       = 0,\n        words       = [],\n        positive    = [],\n        negative    = [];\n\n    // Iterate over tokens\n    var i = tokens.length;\n    while (i--) {\n        var obj = tokens[i];\n        if (!labels.hasOwnProperty(obj)) continue;\n        words.push(obj);\n\n        // Apply scoring strategy\n        var tokenScore = labels[obj];\n        // eslint-disable-next-line max-len\n        tokenScore = languageProcessor.applyScoringStrategy(languageCode, tokens, i, tokenScore);\n        if (tokenScore > 0) positive.push(obj);\n        if (tokenScore < 0) negative.push(obj);\n        score += tokenScore;\n    }\n\n    var result = {\n        score:          score,\n        comparative:    tokens.length > 0 ? score / tokens.length : 0,\n        tokens:         tokens,\n        words:          words,\n        positive:       positive,\n        negative:       negative\n    };\n\n    // Handle optional async interface\n    if (typeof callback === 'function') {\n        process.nextTick(function () {\n            callback(null, result);\n        });\n    } else {\n        return result;\n    }\n};\n\nmodule.exports = Sentiment;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*eslint no-useless-escape: \"off\"*/\n\n/**\n * Remove special characters and return an array of tokens (words).\n * @param  {string} input Input string\n * @return {array}        Array of tokens\n */\nmodule.exports = function(input) {\n    return input\n        .toLowerCase()\n        .replace(/\\n/g, ' ')\n        .replace(/[.,\\/#!$%\\^&\\*;:{}=_`\\\"~()]/g, '')\n        .split(' ');\n};\n","var emojis = require('../build/emoji.json');\n\n// English is loaded by default\nvar enLanguage = require('../languages/en/index');\n// Add emojis\nObject.assign(enLanguage.labels, emojis);\n\n// Cache loaded languages\nvar languages = {\n    en: enLanguage\n};\n\nmodule.exports = {\n\n    /**\n     * Registers the specified language\n     *\n     * @param {String} languageCode\n     *     - Two-digit code for the language to register\n     * @param {Object} language\n     *     - The language module to register\n     */\n    addLanguage: function (languageCode, language) {\n        if (!language.labels) {\n            throw new Error('language.labels must be defined!');\n        }\n        // Add emojis\n        Object.assign(language.labels, emojis);\n        languages[languageCode] = language;\n    },\n\n    /**\n     * Retrieves a language object from the cache,\n     * or tries to load it from the set of supported languages\n     *\n     * @param {String} languageCode - Two-digit code for the language to fetch\n     */\n    getLanguage: function(languageCode) {\n        if (!languageCode) {\n            // Default to english if no language was specified\n            return languages.en;\n        }\n        if (!languages[languageCode]) {\n            // Try to load specified language\n            try {\n                // eslint-disable-next-line max-len\n                var language = require('../languages/' + languageCode + '/index');\n                // Add language to in-memory cache\n                this.addLanguage(languageCode, language);\n            } catch (err) {\n                throw new Error('No language found: ' + languageCode);\n            }\n        }\n        return languages[languageCode];\n    },\n\n    /**\n     * Returns AFINN-165 weighted labels for the specified language\n     *\n     * @param {String} languageCode - Two-digit language code\n     * @return {Object}\n     */\n    getLabels: function(languageCode) {\n        var language = this.getLanguage(languageCode);\n        return language.labels;\n    },\n\n    /**\n     * Applies a scoring strategy for the current token\n     *\n     * @param {String} languageCode - Two-digit language code\n     * @param {Array} tokens - Tokens of the phrase to analyze\n     * @param {int} cursor - Cursor of the current token being analyzed\n     * @param {int} tokenScore - The score of the current token being analyzed\n     */\n    applyScoringStrategy: function(languageCode, tokens, cursor, tokenScore) {\n        var language = this.getLanguage(languageCode);\n        // Fallback to default strategy if none was specified\n        // eslint-disable-next-line max-len\n        var scoringStrategy = language.scoringStrategy || defaultScoringStrategy;\n        return scoringStrategy.apply(tokens, cursor, tokenScore);\n    }\n};\n\nvar defaultScoringStrategy = {\n    apply: function(tokens, cursor, tokenScore) {\n        return tokenScore;\n    }\n};\n","var negators = require('./negators.json');\n\nmodule.exports = {\n    apply: function(tokens, cursor, tokenScore) {\n        if (cursor > 0) {\n            var prevtoken = tokens[cursor - 1];\n            if (negators[prevtoken]) {\n                tokenScore = -tokenScore;\n            }\n        }\n        return tokenScore;\n    }\n};\n","var map = {\n\t\"./en/index\": 0\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 17;"],"sourceRoot":""}